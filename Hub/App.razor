@using Common
@using Common.Components
@using Common.Components.Base

<APlane Topic="floor" Color="#000000" Opacity="0.1"
        P="@(new Position(0,0,0))"
        R="@(new Rotation(-90,0,0))"
        WH="@(new WidthHeight(10,10))" />

@foreach (ComponentBase e in entities.Values)
{
	<DynamicComponent Type="@e.GetType()" Parameters="ComponentParameters.Get(e)" />
}

@code {
	
	private Dictionary<string, ComponentBase> entities = new();

	protected override async Task OnParametersSetAsync()
	{
		Console.WriteLine("OnParametersSetAsync");
		await base.OnParametersSetAsync();
	}

	protected override async Task OnInitializedAsync()
	{
		Console.WriteLine("OnInitializedAsync");
		await base.OnInitializedAsync();
	}

	protected override async Task OnAfterRenderAsync(bool firstRender)
	{
		Console.WriteLine($"OnAfterRenderAsync({firstRender})");

		if(firstRender)
		{
			
		}
	}
}
